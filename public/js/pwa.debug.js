function qc(){}var rc=l.localStorage,sc,tc;function uc(){sc!==navigator.onLine&&m.body&&("undefined"===typeof sc&&navigator.onLine||RAF(function(){navigator.onLine?(m.body.classList.remove("offline"),C.j("offline"),K("network","online")):(m.body.classList.add("offline"),C.j("online"),Ga("network","offline"));sc=navigator.onLine?!0:!1}))}var vc,wc;
function xc(a,c){Z||(Z=new Worker(z[4][0].replace(/(\.debug)?\.js$/,"-worker$1.js")),vc=function(a){a=a.data||[];switch(a[0].toString()){case "1":if(-1!==a[1])a[2]||a[3]?rc.setItem("o10n-sw-hash-verify",JSON.stringify([a[2],a[3],D()])):rc.removeItem("o10n-sw-hash-verify");else{var b=rc.getItem("o10n-sw-hash-verify");b&&(b=JSON.parse(b),b[2]=D(),rc.setItem("o10n-sw-hash-verify",JSON.stringify(b)))}a[1]?C.j("sw:install"):tc.update();break;default:u(["sw","worker"],"received unrecognized message",a)}},
Z.addEventListener("message",vc),wc=function(a){u(["sw","worker"],a)},Z.addEventListener("error",wc),l.onbeforeunload=function(){Z&&Z.terminate()});c?Z.postMessage(a,[c]):Z.postMessage(a)}function yc(){var a=zc.controller;return a?Promise.resolve(a):new Promise(function(a){zc.ready.then(function(){if(zc.controller)a(zc.controller);else{var b=function(){setTimeout(function(){zc.controller?a(zc.controller):b()},500)};b()}})})}
function Ac(a){return yc().then(function(c){return new Promise(function(b,d){var e=++Bc;C.once("sw:"+e,function(a,c){a?(u(["sw","callback"],a),d(a)):b(c)});a.unshift(Cc,e);c.postMessage(a)})})}function Dc(a,c,b){Ac([2,a]).then(c)["catch"](function(a){u(["sw","cache"],a);b(a)})}function Ec(a,c,b){Ac([4,a,c]).then(function(a){b(a.status)})["catch"](function(a){u(["sw","push"],a);reject(a)})}
function Fc(){if(Gc){var a=this.getAttribute("href");if(a){if(Z){try{Z.removeEventListener("error",wc),Z.removeEventListener("message",vc)}catch(c){}try{Z.terminate()}catch(c){}Z=!1}Dc(a,function(){Fa(["sw","cache"],"preload completed",a)})}}}
if("serviceWorker"in navigator){var Hc=z[4]||False,zc=navigator.serviceWorker,Cc="o10n",Bc=0;if(Hc){Hc[3]&&(l.addEventListener("online",uc),l.addEventListener("offline",uc),uc());Hc[2]&&zc.register(Hc[0],{scope:Hc[1]?Hc[1]:"/"}).then(function(a){return new Promise(function(c,b){a.installing?a.installing.addEventListener("statechange",function(d){"installed"==d.target.state?c(a):"redundant"==d.target.state?(u("sw",d.target.state),b()):L("sw",d.target.state)}):c(a)})}).then(function(a){tc=a;if(z[4][4]){var c=
rc.getItem("o10n-sw-hash-verify");c&&(c=JSON.parse(c));(!c||-1===z[4][4]||c&&c[2]<D()-z[4][4])&&Ac([1]).then(function(a){xc([4,a,z[4][0].replace(/(\.debug)?\.js$/,"-hash$1.txt"),c])})["catch"](function(a){u("sw","failed to retrieve file hash",a)})}});zc.addEventListener("message",function(a){var c=a&&a.data?a.data:!1;if(c instanceof Array&&c[0]==Cc){var b=c[1];b.postMessage(1);switch(c[2].toString()){case "1":C.j("sw:"+c[3],c[4],c[5]);break;case "2":C.j("sw:update",c[2]);break;case "3":xc(c.slice(3));
break;case "4":var c=c.slice(3),d=c.shift();c.unshift(d,b);xc(c,b);break;case "5":break;default:u("sw","received unrecognized message",c)}}C.j("sw:message",a)});var Z;qc.prototype={cache:function(a){return new Promise(function(c,b){Dc(a,c,b)})},push:function(a,c){return new Promise(function(b){Ec(a,c,b)})}};if(Hc[5]){var Gc=!0;ua(function(){if(l.jQuery)l.jQuery(function(a){a("body").on("mousedown","a",Fc)});else for(var a=Array.prototype.slice.call(m.getElementsByTagName("a")),c=a.length,b=0;b<c;b++)a[b].onmousedown=
Fc})}B.sw=new qc}};
